<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width">
   
  <!-- <script src="../../js/libs/jquery-2.0.3.min.js"></script> -->
 
</head>

<body>

<script>
window.convert = function(){
  data = document.getElementById("data").innerText;
  sp1= data.split("end_header\n");
  meta = sp1[0];
  v_count = parseInt(meta.split("element vertex ")[1].split("\n")[0]);
  f_count = parseInt(meta.split("element face ")[1].split("\n")[0]);

  entries = sp1[1].split("\n");
  verts = entries.slice(0,v_count);
  final_verts = [];
  for (i=0;i<verts.length;i++){
    s = verts[i];
    s = s.split(" ");
    final_verts.push( parseFloat(s[0]/28).toFixed(3)+"");
    final_verts.push( parseFloat(s[1]/28).toFixed(3)+"");
    final_verts.push( parseFloat(s[2]/28).toFixed(3)+"");

    final_verts.push( parseFloat(s[3]/255).toFixed(3)+"" );
    final_verts.push( parseFloat(s[4]/255).toFixed(3)+"" );
    final_verts.push( parseFloat(s[5]/255).toFixed(3)+"" );
    final_verts.push( "1.0" );

  }
final_verts = final_verts.join(", ");



  indicies = entries.slice(v_count, v_count+f_count);
  final_indicies = [];
  for (i=0;i<indicies.length;i++){
    s = indicies[i];
    s = s.split(" ");
    final_indicies.push(s[1]);
    final_indicies.push(s[2]);
    final_indicies.push(s[3]);
  }
  
  final_indicies = final_indicies.join(", ");
  console.log(v_count,f_count, final_verts, final_indicies);
}

window.convert_physics = function(){
  data = document.getElementById("data").innerText;
  sp1= data.split("end_header\n");
  meta = sp1[0];
  v_count = parseInt(meta.split("element vertex ")[1].split("\n")[0]);
  f_count = parseInt(meta.split("element face ")[1].split("\n")[0]);

  entries = sp1[1].split("\n");
  verts = entries.slice(0,v_count);
  final_verts = [];
  for (i=0;i<verts.length;i++){
    s = verts[i];
    s = s.split(" ");
    final_verts.push( ""+parseFloat(s[0]/28).toFixed(3)+"");
    final_verts.push( parseFloat(s[1]/28).toFixed(3)+"");
    //final_verts.push( parseFloat(s[2]/28).toFixed(3)+"");



  }
final_verts = final_verts.join(", ");


  console.log(v_count,f_count, final_verts);
}




</script>

<pre><div id="data">ply
format ascii 1.0
comment Created by Blender 2.62 (sub 0) - www.blender.org, source file: 'level_test.blend'
element vertex 103
property float x
property float y
property float z
property uchar red
property uchar green
property uchar blue
element face 65
property list uchar uint vertex_indices
end_header
6.764200 -0.139149 0.000000 113 87 59
6.374491 -0.948544 0.000000 91 71 48
6.764200 -0.558835 0.000000 108 83 57
-1.059956 -0.648768 0.000000 100 78 53
-1.000000 1.000000 0.000000 164 136 94
-1.569575 0.070695 0.000000 118 90 62
-1.479642 0.580314 0.000000 139 110 75
-0.130650 -0.828633 0.000000 88 69 47
5.595073 -1.248320 0.000000 71 58 39
1.008500 1.809396 0.000000 176 148 101
-0.130649 1.509620 0.000000 176 148 101
0.708723 -0.768678 0.000000 76 61 41
1.937805 -1.068454 0.000000 64 53 36
3.916327 1.839373 0.000000 176 148 101
2.387470 1.839373 0.000000 176 148 101
3.826394 -1.278297 0.000000 61 51 35
5.984782 1.299776 0.000000 172 144 98
5.055476 1.689485 0.000000 176 148 101
6.554357 0.670247 0.000000 139 110 74
12.521080 1.703529 0.003484 75 61 41
13.967991 4.729785 0.020158 176 148 101
12.206822 2.704541 0.009589 111 86 58
12.521080 1.703529 0.003484 75 61 41
13.167585 0.884035 -0.001402 67 55 38
13.967991 4.729785 0.020158 176 148 101
15.015550 4.528399 0.019580 176 148 101
14.034597 0.240712 -0.004885 66 54 37
14.932648 -0.669292 -0.008459 62 51 35
15.015550 4.528399 0.019580 176 148 101
13.967991 4.729785 0.020158 176 148 101
14.034597 0.240712 -0.004885 66 54 37
13.167585 0.884035 -0.001402 67 55 38
14.034597 0.240712 -0.004885 66 54 37
13.967991 4.729785 0.020158 176 148 101
16.633051 2.718213 0.012769 172 144 98
16.546839 -1.028701 -0.009671 61 51 35
18.123285 -1.045857 -0.009628 64 53 36
16.633051 2.718213 0.012769 172 144 98
15.015550 4.528399 0.019580 176 148 101
16.546839 -1.028701 -0.009671 61 51 35
14.932648 -0.669292 -0.008459 62 51 35
16.546839 -1.028701 -0.009671 61 51 35
15.015550 4.528399 0.019580 176 148 101
16.633051 2.718213 0.012769 172 144 98
18.123285 -1.045857 -0.009628 64 53 36
17.975405 1.730379 0.008427 162 134 92
19.631784 -0.818992 -0.007852 95 74 50
21.082514 -0.430807 -0.004825 122 93 64
19.290104 1.676492 0.008447 169 141 97
19.290104 1.676492 0.008447 169 141 97
17.975405 1.730379 0.008427 162 134 92
19.631784 -0.818992 -0.007852 95 74 50
18.123285 -1.045857 -0.009628 64 53 36
19.631784 -0.818992 -0.007852 95 74 50
17.975405 1.730379 0.008427 162 134 92
13.967991 4.729785 0.020158 176 148 101
13.167362 4.379136 0.017965 176 148 101
12.206822 2.704541 0.009589 111 86 58
19.290104 1.676492 0.008447 169 141 97
21.082514 -0.430807 -0.004825 122 93 64
20.805792 1.418648 0.006971 165 137 91
21.873981 0.518655 0.001511 122 93 64
21.082514 -0.430807 -0.004825 122 93 64
21.774572 -0.013176 -0.002001 122 93 64
20.805792 1.418648 0.006971 165 137 91
21.082514 -0.430807 -0.004825 122 93 64
21.873981 0.518655 0.001511 122 93 64
12.206822 2.704541 0.009589 111 86 58
13.167362 4.379136 0.017965 176 148 101
12.226615 3.602431 0.014032 136 108 72
-15.244576 -16.827085 -0.054148 93 75 51
-17.196272 -18.697632 -0.060456 89 75 51
36.335228 -18.769577 -0.060698 92 75 51
34.653065 -16.791115 -0.054027 90 75 51
35.053562 16.214769 0.057268 122 93 64
-16.680328 18.157269 0.063818 122 93 64
-14.795929 16.178806 0.057146 122 93 64
36.795799 18.085316 0.063575 122 93 64
-9.587969 -6.393709 -0.021798 175 147 100
-10.147391 -4.156031 -0.014252 164 136 93
-13.130980 -6.207235 -0.021169 122 93 64
31.187737 -8.880017 -0.030181 105 84 57
27.271776 -4.404661 -0.015091 174 146 100
26.836670 -6.518023 -0.022217 174 145 100
-11.452711 -11.366326 -0.038565 107 84 58
-8.220491 -8.755702 -0.029762 165 137 94
26.090773 -8.258440 -0.028086 173 145 99
-6.977330 -10.309645 -0.035002 149 121 83
28.079832 -13.728319 -0.046530 93 76 52
24.723295 -10.123172 -0.034373 172 144 99
23.045027 -11.490642 -0.038984 165 137 94
-2.874896 -12.485165 -0.042338 174 146 100
-5.236903 -11.614957 -0.039404 143 115 79
-5.982800 -14.474213 -0.049045 91 75 51
1.289696 -12.795954 -0.043386 171 143 99
5.205655 -12.920269 -0.043805 166 138 95
31.312052 -2.229141 -0.007755 122 93 64
27.333935 -2.291299 -0.007965 163 134 92
-13.130980 -2.291299 -0.007965 122 93 64
-10.271708 -2.415614 -0.008384 149 121 83
20.807335 -12.423007 -0.042128 173 145 99
18.693960 -12.795954 -0.043386 173 145 99
20.807337 -14.722843 -0.049883 93 77 52
3 0 1 2
3 3 4 5
3 5 4 6
3 7 4 3
3 8 1 0
3 9 10 11
3 7 11 10
3 10 4 7
3 12 9 11
3 13 14 15
3 12 15 14
3 12 14 9
3 16 17 8
3 15 8 17
3 15 17 13
3 18 16 8
3 18 8 0
3 19 20 21
3 22 23 24
3 25 26 27
3 28 29 30
3 31 32 33
3 34 35 36
3 37 38 39
3 40 41 42
3 43 44 45
3 46 47 48
3 49 50 51
3 52 53 54
3 55 56 57
3 58 59 60
3 61 62 63
3 64 65 66
3 67 68 69
3 70 71 72
3 70 72 73
3 74 75 76
3 74 77 75
3 70 76 71
3 71 76 75
3 73 72 74
3 72 77 74
3 78 79 80
3 81 82 83
3 78 80 84
3 85 78 84
3 81 83 86
3 87 85 84
3 88 89 90
3 91 92 93
3 94 91 93
3 95 94 93
3 96 97 82
3 96 82 81
3 98 80 79
3 98 79 99
3 86 89 88
3 86 88 81
3 87 84 93
3 87 93 92
3 100 101 102
3 95 93 102
3 95 102 101
3 90 100 102
3 90 102 88
</div></pre>



  
  
  








</body>
</html>